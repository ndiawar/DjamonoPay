document.addEventListener("DOMContentLoaded",function(){const o=document.getElementById("togglePassword"),i=document.getElementById("password");o.addEventListener("click",function(){const a=i.getAttribute("type")==="password"?"text":"password";i.setAttribute("type",a),this.classList.toggle("fa-eye"),this.classList.toggle("fa-eye-slash")}),document.getElementById("registrationForm").addEventListener("input",function(a){const e=a.target,t=document.getElementById(`${e.name}Error`);let n=!0;t.textContent="",e.classList.remove("valid","invalid"),(e.name==="nom"||e.name==="prenom")&&(/^[A-Z][a-zA-Z]*$/.test(e.value)||(n=!1,t.textContent="Doit commencer par une majuscule et ne contenir que des lettres.")),e.name==="email"&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.value)||(n=!1,t.textContent="Adresse e-mail invalide.")),e.name==="telephone"&&(/^\+?[0-9]{10,15}$/.test(e.value)||(n=!1,t.textContent="Numéro de téléphone invalide.")),e.name==="adresse"&&e.value.trim()===""&&(n=!1,t.textContent="L'adresse ne peut pas être vide."),e.name==="date_naissance"&&new Date(e.value)>=new Date&&(n=!1,t.textContent="La date de naissance doit être dans le passé."),e.name==="password"&&(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[A-Za-z\d]{8,}$/.test(e.value)||(n=!1,t.textContent="Doit contenir au moins 8 caractères, une majuscule, une minuscule et un chiffre.")),e.name==="numero_identite"&&e.value.trim()===""&&(n=!1,t.textContent="Le numéro de carte d'identité ne peut pas être vide."),e.name==="role"&&e.value.trim()===""&&(n=!1,t.textContent="Veuillez choisir un rôle."),n?(e.classList.add("valid"),e.classList.remove("invalid")):(e.classList.add("invalid"),e.classList.remove("valid"))})});
